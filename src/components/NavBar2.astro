---
import {
    getLangFromUrl,
    useTranslations,
    useTranslatedPath,
} from "../i18n/utils";
import type { LangsI, NavBarItems } from "../data/types";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const translatePath = useTranslatedPath(lang);

const langs: LangsI[] = [
    {
        lang: "Espa√±ol",
        route: "/",
    },
    {
        lang: "English",
        route: "/en",
    },
    {
        lang: "Deustch",
        route: "/de",
    },
];

const navBarItems: NavBarItems[] = [
    {
        route: "/",
        title: t("nav.home"),
    },
    {
        route: "/jovellanos",
        title: t("nav.jovellanos"),
    },
    {
        route: "/alameda23",
        title: t("nav.alameda23"),
    },
    {
        route: "/alameda33",
        title: t("nav.alameda33"),
    },
    {
        route: "/contacto",
        title: t("nav.contact"),
    },
];
---

<nav class="flex flex-row items-center justify-around lg:w-4/5 pt-10 pb-8">
    <img
        src="/figueiras/logofigueiras.svg"
        alt="Logo"
        width="200"
        height="100"
    />

    <div class="flex flex-col justify-between">
        <ul class="flex flex-row justify-end gap-3 text-sm">
            {
                langs.map((lang) => (
                    <li class="text-sm text-gray-500">
                        <a href={lang.route}>{lang.lang}</a>
                    </li>
                ))
            }
        </ul>

        <ul class="hidden md:flex gap-3 pt-8">
            {
                navBarItems.map((item) => (
                    <li class="bg-gray-100 px-2 py-1 uppercase text-sky-700 font-semibold text-sm">
                        <a href={translatePath(item.route)}>{item.title}</a>
                    </li>
                ))
            }
        </ul>
    </div>
</nav>
